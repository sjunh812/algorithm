# 17070번 : 파이프 옯기기 1
### 가장 처음에 파이프는 (1, 1)와 (1, 2)를 차지하고 있고, 방향은 가로일 때, 파이프의 한쪽 끝을 (N, N)로 이동시키는 방법의 개수를 구하는 프로그램 작성하기 
### 조건
- 파이프를 옮기기 위한 집의 크기 `N`(3 ≤ N ≤ 16)이 주어짐.
- 각 칸마다 집의 상태가 빈 칸은 0, 벽은 1로 주어짐.
- (1, 1)과 (1, 2)는 항상 빈 칸
- 이동시킬 수 없는 경우에는 0을 출력
- 파이프를 밀 수 있는 방향은 총 3가지가 있으며, `→`, `↘`, `↓` 방향임.
- 아래 그림은 파이프가 놓여진 방향에 따라서 이동할 수 있는 방법을 모두 나타낸 것이고, 꼭 빈 칸이어야 하는 곳은 색으로 표시되어있음.

### 풀이
이 문제는 `DFS(깊이 우선 탐색)` 과 `다이나믹 프로그래밍` 으로 각각 해결할 수 있다.  
자바의 경우 다른 언어에 비해 속도가 느리므로 `다이나믹 프로그래밍` 을 활용하여 속도를 줄여볼 수 있다.  

`다이나믹 프로그래밍` 을 이용하기 위해서는 먼저 점화식을 세워야 한다.  
파이프의 방향은 오른쪽, 아래, 대각선 총 3가지 이므로, 파이프의 끝 값의 위치를 저장할 3차원 dp 배열을 먼저 선언해야 한다.
```
dp[행(N)][열(N)]][파이프의 방향(3)]
- dp[n][n][0] : 오른쪽 방향의 파이프의 끝 지점이 (n, n)
- dp[n][n][1] : 아래 방향의 파이프의 끝 지점이 (n, n)
- dp[n][n][2] : 오른쪽 대각선 방향의 파이프의 끝 지점이 (n, n)
```

각 파이프 방향마다 갈 수 있는 경우가 정해져 있기 때문에 이에 맞게 점화식을 세워주면 된다.  
간단히 서로 인접한 정사각형 모양의 4개의 칸을 살펴보자.  
```
A(2, 2) B(2, 3)
C(3, 2) D(3, 3)
```
D가 파이프의 끝 지점이라고 할 때, D를 기준으로 위, 왼쪽, 왼쪽 대각선 위 지점을 각각 살펴보면 된다.
```
1) 위(B) : 아래, 대각선 방향으로 B가 끝 지점인 2개의 파이프에서 D로 이동할 수 있다.
2) 왼쪽(C) : 오른쪽, 대각선 방향으로 C가 끝 지점인 2개의 파이프에서 D로 이동할 수 있다.
1) 왼쪽 대각선 위(A) : 오른쪽, 아래, 대각선 방향의 A가 끝 지점인 3개의 파이프에서 D로 이동할 수 있다.
```
위의 방식대로 점화식을 세워보면 아래와 같다.  
```
if (i, j) 지점이 벽이 아닐 때 :
    if (i, j - 1), (i - 1, j) 지점이 벽이 아닐 때 :
        dp[i][j][2] += dp[i - 1][j - 1][0] + dp[i - 1][j - 1][1] + dp[i - 1][j - 1][2];
    dp[i][j][1] += dp[i - 1][j][1] + dp[i - 1][j][2];
    dp[i][j][0] += dp[i][j - 1][0] + dp[i][j - 1][2];
```
문제에서 파이프가 이동할 때 꼭 빈 칸이어야 하는 곳이 주어져 있으므로,  
이를 예외 조건으로 꼭 빼먹지 말고 점화식을 작성하면 문제를 해결할 수 있다!
