# 1707번 : 이분 그래프
### 그래프가 입력으로 주어졌을 때, 이 그래프가 이분 그래프인지 아닌지 판별하는 프로그램 작성하기
#### 조건
- 그래프의 ```정점```의 집합을 둘로 분할하여, 각 집합에 속한 ```정점```끼리는 서로 인접하지 않도록 분할할 수 있을 때, 그러한 그래프를 특별히 ```이분 그래프 (Bipartite Graph)``` 라 부름.
- 테스트 케이스의 개수 ```K```와 각 테스트케이스 별 정점의 개수 ```V``` 그리고 간선의 개수 ```E```가 주어짐  
  (2 <= K <= 5, 1 <= V <= 20000, 1 <= E <= 200000) 
### 풀이  
문제를 처음 접했을 때는 간단하게 해결하지 않을까 싶었지만, 상당히 해결하는데 애를 먹었던 문제이다.  

먼저 ```이분 그래프```의 개념을 살펴보면 간단하다.   
주어진 그래프를 이등분할 때, **등분된 ```정점```의 집합 내 ```정점```간 ```간선```이 없으면 된다.**  
즉, 홀수개의 ```정점```의 집합이 서로 순환하고 있지 않다면 그 그래프는 ```이분 그래프```라고 할 수 있다.  
이는 짝수개의 경우 정점 간에 서로 인접하지 않도록 한 칸씩 건너뛴 정점끼리 집합으로 등분이 가능하기 때문이다.  
 
```이분 그래프```의 개념은 간단했지만, 위에서 말한 홀수개의 정점의 집합이 서로 순환하고 있는지 파악하기 위해서는 어떻게 코드를 작성해야할까?  
단순히 ```DFS, BFS```를 이용해 풀기에 막막하고, ```완전 탐색```으로 해결하자니 주어진 ```정점```과 ```간선```의 범위가 커 쉽지않을 것으로 보인다.  

해법은 아래와 같다.
```
1. DFS 나 BFS를 이용해 모든 노드를 방문 처리 한다.
2. 기존의 방문 처리에는 방문 여부만 판단했다면, 이 문제에서는 방문 노드의 깊이가 홀수냐 짝수냐에 따라 다르게 구분한다. 예를 들어 홀수 깊이의 방문 노드의 경우 1로 처리, 짝수 깊이의 방문 노드의 경우 -1로 처리한다.
3. 모든 노드에 대해 방문 처리를 완료했다면, 정점별로 간선을 하나씩 확인하면서 연결된 다른 정점과 방문 처리를 비교한다.
4. 위의 간선에 연결된 정점과의 방문 처리 비교 중 단 한 번이라도 같은 경우가 있다면 이는 이분 그래프가 아니다!
```
이 풀이의 핵심은 **깊이 별로 방문 처리를 다르게 해주는 것이다.**  

처음 위에서 파악한 ```이분 그래프``` 개념에 의하면 홀수개의 ```정점```이 서로 순환할 때 이는 이분 그래프가 아니다.  
그래프를 그려보면 알겠지만, 서로 순환이 없는 한 ```정점```에서 다른 ```정점```이 간선으로 연결 되어있을 때, ```정점```의 깊이는 하나는 짝수, 하나는 홀수이다.  
그래서 깊이의 짝, 홀 여부가 같은 정점 간에 서로 연결되어있다는 사실은 홀수개의 ```정점```이 서로 순환함을 의미한다.  
말로는 이해하기 쉽지 않지만, 그림으로 그려보면 이해가 쉽게될 것이다.  

<br>
<br>
사실 문제의 해법만보면 단순한 ```DFS, BFS``` 유형에 추가로 방문 처리만 깊이 별로 다르게 해준다는 점으로 매우 간단해 보일 수 있다.   
하지만 이런 해법에 도달하기 위해 ```이분 그래프```의 성질을 매우 잘 이해하는게 핵심이었던 문제였다..😱


